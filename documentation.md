# Техническая документация CMake Simple Builder

## Обзор
Плагин предоставляет одну команду для автоматической сборки и тестирования CMake проектов.

## Архитектура

### Компоненты:
- **package.json** - конфигурация расширения
- **extension.js** - основная логика плагина


## Функциональность

### Основной workflow:
1. Проверка наличия открытой рабочей области
2. Создание панели для вывода информации
3. Последовательное выполнение команд CMake
4. Обработка и отображение результатов

### Обрабатываемые команды:
1. `cmake -B build` - конфигурация проекта
2. `cmake --build build` - сборка проекта
3. `cd build` - переход к файлу build
4. `ctest -V` - запуск тестов с подробным выводом

## Кодовая база

### Файл: extension.js

#### Функция activate(context)
**Назначение:** Основная функция инициализации плагина
**Параметры:**
- `context` - контекст расширения VS Code

**Логика:**
- Регистрирует команду 'cmake-simple-builder.buildAndTest'
- Добавляет команду в подписки для управления жизненным циклом

#### Обработчик команды buildAndTest
**Назначение:** Выполняет всю последовательность сборки и тестирования

**Шаги выполнения:**
1. **Проверка workspace**: Убеждается, что открыта папка с проектом
2. **Создание output channel**: Создает панель для вывода процесса
3. **Последовательное выполнение команд**:
   - Конфигурация CMake
   - Сборка проекта
   - Запуск тестов
4. **Обработка ошибок**: На каждом этапе проверяет код возврата
5. **Уведомление пользователя**: Показывает результат операции


## Обработка ошибок

Плагин использует простую стратегию обработки ошибок:

- **Прерывание при ошибке**: Если любая команда завершается с ошибкой, последующие команды не выполняются
- **Вывод в консоль**: Детали ошибки выводятся в панель "CMake Simple Builder"
- **Визуальное уведомление**: Показываются всплывающие сообщения об ошибках
